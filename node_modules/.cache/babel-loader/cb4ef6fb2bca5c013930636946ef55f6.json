{"ast":null,"code":"import _toConsumableArray from \"/home/lolo/Descargas/paginaflolo/paginaf4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/lolo/Descargas/paginaflolo/paginaf4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lolo/Descargas/paginaflolo/paginaf4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _regeneratorRuntime from \"/home/lolo/Descargas/paginaflolo/paginaf4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/lolo/Descargas/paginaflolo/paginaf4/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//import { sampleProducts } from \"./Data\";\n//let unidad=\"https://apisfsystem.herokuapp.com\";\n//let unidad=\"https://adryan2.sytes.net:7001\";\nimport { unidad } from \"./variables\"; //let unidad=servidor\n\nexport var fetch_data = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var llamada, data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(unidad + '/api/shoping1/productos');\n\n          case 2:\n            llamada = _context.sent;\n            _context.next = 5;\n            return llamada.json();\n\n          case 5:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetch_data() {\n    return _ref.apply(this, arguments);\n  };\n}();\n/*\nexport const fetch_datacate = async () =>{\n  const llamada2 = await fetch('http://adryan2.sytes.net:3001/api/categoria/view')\n  const data2 = await llamada2.json()\n // console.log(data);\n  return data2;\n};\n\n*/\n///\n//\n// Methods of this class are used to simulate calls to server.\n//\n\nvar Api = /*#__PURE__*/function () {\n  function Api() {\n    _classCallCheck(this, Api);\n\n    this.fetch_datacate = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var llamada2, data2;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return fetch(unidad + '/api/shoping1/categorias');\n\n            case 2:\n              llamada2 = _context2.sent;\n              _context2.next = 5;\n              return llamada2.json();\n\n            case 5:\n              data2 = _context2.sent;\n              return _context2.abrupt(\"return\", data2);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n  }\n\n  _createClass(Api, [{\n    key: \"getItemUsingID\",\n    value: function getItemUsingID(id) {\n      return new Promise(function (resolve, reject) {\n        setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n          var informacion, res;\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.next = 2;\n                  return fetch_data();\n\n                case 2:\n                  informacion = _context3.sent;\n                  //let res = sampleProducts.filter(x => x.id === parseInt(id, 10));\n                  res = informacion.filter(function (x) {\n                    return x.id === parseInt(id, 10);\n                  });\n                  resolve(res.length === 0 ? null : res[0]);\n\n                case 5:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        })), 500);\n      });\n    }\n  }, {\n    key: \"sortByPrice\",\n    value:\n    /*\n      fetch_dni = async () =>{\n        //const llamada2 = await fetch('http://adryan2.sytes.net:3001/api/categoria/view')\n        const llamada2 = await fetch('https://dniruc.apisperu.com/api/v1/dni/30961113?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6ImdydXBvODBwckBnbWFpbC5jb20ifQ.cPdYTOafYcdlXPBGBrAUPl9FGTkHpc0dPW1FcH10Plg')\n        const data2 = await llamada2.json()\n       // console.log(\"funcion de  categorias\")\n       // console.log(data);\n       //console.log(parameter1)\n        return data2;\n      };\n    */\n    function sortByPrice(data, sortval) {\n      if (sortval !== \"lh\" && sortval !== \"hl\") return data;\n\n      var items = _toConsumableArray(data);\n\n      if (sortval === \"lh\") {\n        items.sort(function (a, b) {\n          return a.precio - b.precio;\n        });\n      } else {\n        items.sort(function (a, b) {\n          return b.precio - a.precio;\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"searchItems\",\n    value: function searchItems(_ref4) {\n      var _this = this;\n\n      var _ref4$category = _ref4.category,\n          category = _ref4$category === void 0 ? \"popular\" : _ref4$category,\n          _ref4$term = _ref4.term,\n          term = _ref4$term === void 0 ? \"\" : _ref4$term,\n          _ref4$sortValue = _ref4.sortValue,\n          sortValue = _ref4$sortValue === void 0 ? \"lh\" : _ref4$sortValue,\n          _ref4$itemsPerPage = _ref4.itemsPerPage,\n          itemsPerPage = _ref4$itemsPerPage === void 0 ? 4 : _ref4$itemsPerPage,\n          _ref4$usePriceFilter = _ref4.usePriceFilter,\n          usePriceFilter = _ref4$usePriceFilter === void 0 ? \"false\" : _ref4$usePriceFilter,\n          _ref4$minPrice = _ref4.minPrice,\n          minPrice = _ref4$minPrice === void 0 ? 0 : _ref4$minPrice,\n          _ref4$maxPrice = _ref4.maxPrice,\n          maxPrice = _ref4$maxPrice === void 0 ? 1000 : _ref4$maxPrice,\n          _ref4$page = _ref4.page,\n          page = _ref4$page === void 0 ? 1 : _ref4$page;\n      // Turn this into a boolean\n      usePriceFilter = usePriceFilter === \"true\" && true;\n      return new Promise(function (resolve, reject) {\n        setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n          var informacion, data, totalLength;\n          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.next = 2;\n                  return fetch_data();\n\n                case 2:\n                  informacion = _context4.sent;\n                  // console.log(\"datos de la consulta de la api\")\n                  // console.log(informacion);\n                  //let data = sampleProducts.filter(item => {\n                  data = informacion.filter(function (item) {\n                    if (usePriceFilter && (item.precio < minPrice || item.precio > maxPrice)) {\n                      return false;\n                    }\n\n                    if (category === \"popular\") {\n                      return item.popular;\n                    }\n\n                    if (category !== \"AALL CATEGORIAS\" && category !== item.categoria) return false;\n                    if (term && !(item.descripcion.toLowerCase() + item.codigo.toLowerCase()).includes(term.toLowerCase())) return false;\n                    return true;\n                  });\n                  totalLength = data.length;\n                  data = _this.sortByPrice(data, sortValue);\n                  data = data.slice((page - 1) * itemsPerPage, page * itemsPerPage);\n                  resolve({\n                    data: data,\n                    totalLength: totalLength\n                  });\n\n                case 8:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4);\n        })), 100);\n      });\n    }\n  }]);\n\n  return Api;\n}();\n\nexport default new Api();","map":{"version":3,"sources":["/home/lolo/Descargas/paginaflolo/paginaf4/src/Api.js"],"names":["unidad","fetch_data","fetch","llamada","json","data","Api","fetch_datacate","llamada2","data2","id","Promise","resolve","reject","setTimeout","informacion","res","filter","x","parseInt","length","sortval","items","sort","a","b","precio","category","term","sortValue","itemsPerPage","usePriceFilter","minPrice","maxPrice","page","item","popular","categoria","descripcion","toLowerCase","codigo","includes","totalLength","sortByPrice","slice"],"mappings":"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","sourcesContent":["//import { sampleProducts } from \"./Data\";\n\n\n//let unidad=\"https://apisfsystem.herokuapp.com\";\n//let unidad=\"https://adryan2.sytes.net:7001\";\n\n\nimport { unidad } from \"./variables\";\n\n//let unidad=servidor\n\nexport const fetch_data = async () =>{\n     const llamada = await fetch(unidad+'/api/shoping1/productos')\n     const data = await llamada.json()\n     //console.log(data);\n     \n     return data;\n};\n\n/*\nexport const fetch_datacate = async () =>{\n  const llamada2 = await fetch('http://adryan2.sytes.net:3001/api/categoria/view')\n  const data2 = await llamada2.json()\n // console.log(data);\n  return data2;\n};\n\n*/\n\n\n///\n//\n// Methods of this class are used to simulate calls to server.\n//\nclass Api {\n  getItemUsingID(id) {\n\n\n    return new Promise( (resolve, reject) => {\n      setTimeout( async () => {\n\n        let informacion=  await fetch_data();\n        //let res = sampleProducts.filter(x => x.id === parseInt(id, 10));\n        let res = informacion.filter(x => x.id === parseInt(id, 10));\n        resolve(res.length === 0 ? null : res[0]);\n      }, 500);\n    });\n  }\n\n\n\n  fetch_datacate = async () =>{\n    //const llamada2 = await fetch('http://adryan2.sytes.net:3001/api/categoria/view')\n    //const llamada2 = await fetch('https://adryan2.sytes.net:5000/api/shoping1/categorias')\n\n\n    const llamada2 = await fetch(unidad+'/api/shoping1/categorias')\n\n    const data2 = await llamada2.json()\n   // console.log(\"funcion de  categorias\")\n   // console.log(data2);\n    return data2;\n  };\n  \n/*\n  fetch_dni = async () =>{\n    //const llamada2 = await fetch('http://adryan2.sytes.net:3001/api/categoria/view')\n    const llamada2 = await fetch('https://dniruc.apisperu.com/api/v1/dni/30961113?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6ImdydXBvODBwckBnbWFpbC5jb20ifQ.cPdYTOafYcdlXPBGBrAUPl9FGTkHpc0dPW1FcH10Plg')\n    const data2 = await llamada2.json()\n   // console.log(\"funcion de  categorias\")\n   // console.log(data);\n   //console.log(parameter1)\n    return data2;\n  };\n*/\n\n  \n\n\n\n\n  sortByPrice(data, sortval) {\n    if (sortval !== \"lh\" && sortval !== \"hl\") return data;\n\n    let items = [...data];\n\n    if (sortval === \"lh\") {\n      items.sort((a, b) => a.precio - b.precio);\n    } else {\n      items.sort((a, b) => b.precio - a.precio);\n    }\n\n    return items;\n  }\n\n  searchItems({\n    category = \"popular\",\n    term = \"\",\n    sortValue = \"lh\",\n    itemsPerPage = 4,\n    usePriceFilter = \"false\",\n    minPrice = 0,\n    maxPrice = 1000,\n    page = 1\n  }) {\n    \n    // Turn this into a boolean\n    usePriceFilter = usePriceFilter === \"true\" && true;\n    \n    return new Promise((resolve, reject) => {\n\n     setTimeout(async () => {\n\n        let informacion=  await fetch_data();\n       // console.log(\"datos de la consulta de la api\")\n       // console.log(informacion);\n\n        //let data = sampleProducts.filter(item => {\n\n\n          let data = informacion.filter(item => { \n          if (\n            usePriceFilter &&\n            (item.precio < minPrice || item.precio > maxPrice)\n          ) {\n            return false;\n          }\n\n          if (category === \"popular\") {\n            return item.popular;\n          }\n\n          if (category !== \"AALL CATEGORIAS\" && category !== item.categoria)\n            return false;\n\n          if (term && !(item.descripcion.toLowerCase()+item.codigo.toLowerCase()).includes(term.toLowerCase()))\n            return false;\n\n          return true;\n        });\n\n        let totalLength = data.length;\n\n        data = this.sortByPrice(data, sortValue);\n\n        data = data.slice((page - 1) * itemsPerPage, page * itemsPerPage);\n\n        resolve({ data, totalLength });\n      }, 100);\n    });\n  }\n\n\n\n\n}\n\nexport default new Api();\n"]},"metadata":{},"sourceType":"module"}