{"ast":null,"code":"import axios from \"axios\";\nimport { //GET_TIPOFILE,\nGET_ARTICULOFILES, ADD_ARTICULOFILE, ARTICULOFILE_LOADING, CLEAR_CURRENT_ARTICULOFILE, GET_ERRORS, UPDATE_ARTICULO, DELETE_ARTICULO } from \"./types.js\"; //import { GET_CATEGORIAFILES } from \"../../../../../curso_react/menu3/client/src/actions/types.js\";\n//let unidad=\"https://localhost\";\n//let unidad=\"https://adryan2.sytes.net:5000\";\n//let unidad=\"https://apisfsystem.herokuapp.com\";\n//let unidad=\"https://adryan2.sytes.net:7001\";\n\nimport { unidad } from \"../variables\";\nexport var addArticulosql = function addArticulosql(tipoData, prove, line, cate, nimagen, uni) {\n  return function (dispatch) {\n    //datos,prove,line,cate\n    //      eduData\n    var cod = tipoData.codigo.toUpperCase();\n    axios.post(unidad + \"/api/articulos/addarticulosql\", {\n      id: tipoData.id,\n      codigo: cod.trim(),\n      descripcion: tipoData.descripcion.toUpperCase(),\n      costo: tipoData.costo,\n      precio: tipoData.precio,\n      imagen: nimagen,\n      codigostock: tipoData.codigostock,\n      fecha_cad: tipoData.fecha_cad,\n      precio1: tipoData.precio1,\n      precio2: tipoData.precio2,\n      stockm: tipoData.stockm,\n      UM_ID: uni.codigo,\n      detalle: tipoData.detalle.toUpperCase(),\n      proveedor: prove.codigo,\n      linea: line.codigo,\n      grupo: cate.codigo\n    }).then(function (res) {\n      return dispatch({\n        type: ADD_ARTICULOFILE,\n        payload: res.data\n      });\n    }) // .then(res=> history.push(\"/view-categoria\"))\n    //.then(res=> history.push(\"/view-tipos\"))\n    [\"catch\"](function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var getCurrentArticulosql = function getCurrentArticulosql() {\n  return function (dispatch) {\n    dispatch(setArticulofileLoading());\n    axios.get(unidad + \"/api/articulos/viewsql/\").then(function (res) {\n      return dispatch({\n        type: GET_ARTICULOFILES,\n        payload: res.data\n      });\n    })[\"catch\"](function (err) {\n      return dispatch({\n        type: GET_ARTICULOFILES,\n        payload: {}\n      });\n    });\n  };\n};\nexport var deleteCurrentArticulosql = function deleteCurrentArticulosql(id) {\n  return function (dispatch) {\n    if (window.confirm(\"Esta Ud Seguro de Eliminar El Registro\")) {\n      // dispatch(setTiposfileLoading());\n      axios[\"delete\"](unidad + \"/api/articulos/viewsql/\".concat(id)) //.then(res => history.push(\"/view-tipos\"))\n      .then(function (res) {\n        return dispatch({\n          type: DELETE_ARTICULO,\n          payload: id\n        });\n      })[\"catch\"](function (err) {\n        return dispatch({\n          type: GET_ERRORS,\n          payload: {}\n        });\n      }); //console.log(res)\n    }\n\n    ;\n  };\n};\nexport var updateCurrentArticulosql = function updateCurrentArticulosql(id, datos, prove, line, cate, nimagen, uni) {\n  return function (dispatch) {\n    //dispatch(updateCurrentArticulosql(datos,prove,line,cate,nimagen,uni))\n    if (window.confirm(\"Esta Ud Seguro de Actualizar El Registro\")) {\n      // console.log(\"reibiendo datos de Ipodata\")\n      //\n      //  console.log(tipoData)\n      // dispatch(setTiposfileLoading());\n      axios.put(unidad + \"/api/articulos/viewsql/\".concat(id), {\n        //id:tipoData.id,   \n        codigo: datos.codigo,\n        descripcion: datos.descripcion,\n        costo: datos.costo,\n        precio: datos.precio,\n        detalle: datos.detalle,\n        codigostock: datos.codigostock,\n        fecha_cad: datos.fecha_cad,\n        precio1: datos.precio1,\n        precio2: datos.precio2,\n        stockm: datos.stockm,\n        proveedor: prove.codigo,\n        linea: line.codigo,\n        grupo: cate.codigo,\n        UM_ID: uni.codigo,\n        imagen: nimagen\n      }).then(function (res) {\n        //console.log(\"actualizando con PUT devolviendo datos en actios   \")\n        //console.log(tipoData)\n        // console.log(res.tipoData)\n        // dispatch(setTiposfileLoading());\n        dispatch({\n          type: UPDATE_ARTICULO,\n          payload: {\n            codigo: datos.codigo,\n            descripcion: datos.descripcion,\n            costo: datos.costo,\n            precio: datos.precio,\n            detalle: datos.detalle,\n            codigostock: datos.codigostock,\n            fecha_cad: datos.fecha_cad,\n            precio1: datos.precio1,\n            precio2: datos.precio2,\n            stockm: datos.stockm,\n            proveedor: prove.codigo,\n            linea: line.codigo,\n            grupo: cate.codigo,\n            UM_ID: uni.codigo,\n            imagen: nimagen\n          }\n        });\n      }) //.then(res=> history.push(\"/view-tipos\"))\n      [\"catch\"](function (err) {\n        return dispatch({\n          type: GET_ERRORS,\n          payload: {}\n        });\n      }); //console.log(res)\n    }\n\n    ;\n  };\n};\nexport var setArticulofileLoading = function setArticulofileLoading() {\n  return {\n    type: ARTICULOFILE_LOADING\n  };\n};\nexport var clearCurrentArticulofile = function clearCurrentArticulofile() {\n  return {\n    type: CLEAR_CURRENT_ARTICULOFILE\n  };\n};","map":{"version":3,"sources":["/home/lolo/Descargas/paginaflolo (copia)/paginaf4/src/actions/articuloActions.js"],"names":["axios","GET_ARTICULOFILES","ADD_ARTICULOFILE","ARTICULOFILE_LOADING","CLEAR_CURRENT_ARTICULOFILE","GET_ERRORS","UPDATE_ARTICULO","DELETE_ARTICULO","unidad","addArticulosql","tipoData","prove","line","cate","nimagen","uni","dispatch","cod","codigo","toUpperCase","post","id","trim","descripcion","costo","precio","imagen","codigostock","fecha_cad","precio1","precio2","stockm","UM_ID","detalle","proveedor","linea","grupo","then","res","type","payload","data","err","response","getCurrentArticulosql","setArticulofileLoading","get","deleteCurrentArticulosql","window","confirm","updateCurrentArticulosql","datos","put","clearCurrentArticulofile"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n  //GET_TIPOFILE,\n  GET_ARTICULOFILES,  \n  ADD_ARTICULOFILE,\n  ARTICULOFILE_LOADING,\n  CLEAR_CURRENT_ARTICULOFILE,\n  GET_ERRORS,\n  UPDATE_ARTICULO,\n  DELETE_ARTICULO,\n  \n} from \"./types.js\";\n//import { GET_CATEGORIAFILES } from \"../../../../../curso_react/menu3/client/src/actions/types.js\";\n\n\n\n//let unidad=\"https://localhost\";\n//let unidad=\"https://adryan2.sytes.net:5000\";\n//let unidad=\"https://apisfsystem.herokuapp.com\";\n//let unidad=\"https://adryan2.sytes.net:7001\";\n\nimport { unidad } from \"../variables\";\n\n\n\n\n\n\n\nexport const addArticulosql = (tipoData,prove,line,cate,nimagen,uni) => dispatch => {\n\n  //datos,prove,line,cate\n//      eduData\nlet cod=tipoData.codigo.toUpperCase();\n\n  axios \n    .post(unidad+\"/api/articulos/addarticulosql\", {\n         id:tipoData.id,   \n         codigo:cod.trim(),\n         descripcion:tipoData.descripcion.toUpperCase(),\n         costo:tipoData.costo,\n         precio:tipoData.precio,         \n         imagen:nimagen,\n         codigostock:tipoData.codigostock,\n         fecha_cad:tipoData.fecha_cad,\n         precio1:tipoData.precio1,\n         precio2:tipoData.precio2,\n         stockm:tipoData.stockm,\n         UM_ID:uni.codigo,\n         detalle:tipoData.detalle.toUpperCase(),\n         proveedor:prove.codigo,\n         linea:line.codigo,\n         grupo:cate.codigo,\n    \n    })\n    .then(res => \n      dispatch({\n        type: ADD_ARTICULOFILE,\n        payload: res.data\n      })\n    )\n   // .then(res=> history.push(\"/view-categoria\"))\n    //.then(res=> history.push(\"/view-tipos\"))\n    .catch(err =>    \n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    );\n};\n\n\nexport const getCurrentArticulosql = () => dispatch => {\n  dispatch(setArticulofileLoading());\n  axios\n    .get(unidad+\"/api/articulos/viewsql/\")\n    .then(res =>\n      dispatch({\n        type: GET_ARTICULOFILES,\n        payload: res.data\n        \n      })\n      \n    )\n    .catch(err =>\n      dispatch({\n        type: GET_ARTICULOFILES,\n        payload: {}\n      })\n    );\n    \n};\n\nexport const deleteCurrentArticulosql = (id) => dispatch => {\n  if (window.confirm(\"Esta Ud Seguro de Eliminar El Registro\")) {\n // dispatch(setTiposfileLoading());\n  axios\n      .delete(unidad+`/api/articulos/viewsql/${id}`)\n      \n      //.then(res => history.push(\"/view-tipos\"))\n\n      .then(res =>\n        dispatch({\n          type: DELETE_ARTICULO,\n          payload: id\n        })\n        \n      )\n      \n      .catch(err =>\n        dispatch({\n          type: GET_ERRORS,\n          payload: {}\n        })\n      );\n      //console.log(res)\n};\n}\n\n\nexport const updateCurrentArticulosql = (id,datos,prove,line,cate,nimagen,uni) => dispatch => {\n\n  //dispatch(updateCurrentArticulosql(datos,prove,line,cate,nimagen,uni))\n  if (window.confirm(\"Esta Ud Seguro de Actualizar El Registro\")) {\n    \n   // console.log(\"reibiendo datos de Ipodata\")\n    //\n  //  console.log(tipoData)\n // dispatch(setTiposfileLoading());\n  axios\n      .put(unidad+`/api/articulos/viewsql/${id}`,{\n         //id:tipoData.id,   \n         codigo:datos.codigo,\n         descripcion:datos.descripcion,\n         costo:datos.costo,\n         precio:datos.precio,\n         detalle:datos.detalle,                  \n         codigostock:datos.codigostock,\n         fecha_cad:datos.fecha_cad,\n\n         precio1:datos.precio1,\n         precio2:datos.precio2,\n         stockm:datos.stockm,\n\n         proveedor:prove.codigo,\n         linea:line.codigo,\n         grupo:cate.codigo,\n         UM_ID:uni.codigo,\n         imagen:nimagen,\n         \n\n      })\n      \n      \n      \n      \n      .then(res =>{ \n       \n        //console.log(\"actualizando con PUT devolviendo datos en actios   \")\n        //console.log(tipoData)\n       // console.log(res.tipoData)\n       // dispatch(setTiposfileLoading());\n       dispatch({\n         type: UPDATE_ARTICULO,\n         payload: {\n\n          codigo: datos.codigo,\n          descripcion:datos.descripcion,\n          costo:datos.costo,\n          precio:datos.precio,\n          detalle:datos.detalle,                  \n          codigostock:datos.codigostock,\n          fecha_cad:datos.fecha_cad,\n\n          precio1:datos.precio1,\n          precio2:datos.precio2,\n          stockm:datos.stockm,\n\n          proveedor:prove.codigo,\n          linea:line.codigo,\n          grupo:cate.codigo,\n          UM_ID:uni.codigo,\n          imagen:nimagen,\n            \n         }\n       })\n      }\n        \n      )\n     \n       \n\n      //.then(res=> history.push(\"/view-tipos\"))\n      \n      .catch(err =>\n        dispatch({\n          type: GET_ERRORS,\n          payload: {}\n        })\n      );\n      //console.log(res)\n};\n}\n\n\n\n\n\nexport const setArticulofileLoading = () => {\n  return {\n    type: ARTICULOFILE_LOADING\n  };\n};\n\nexport const clearCurrentArticulofile = () => {\n  return {\n    type: CLEAR_CURRENT_ARTICULOFILE\n  };\n};\n"]},"metadata":{},"sourceType":"module"}